backend:
  name: github
  repo: meadowlarque/uvapjson
  branch: main

media_folder: static/assets
public_folder: /assets

collections:
  - name: 'news'
    label: 'News'
    folder: 'content/news'
    publish_mode: editorial_workflow
    preview_path: '{{title}}/index'
    create: true
    slug: 'index'
    media_folder: ''
    public_folder: ''
    path: '{{title}}/index'
    fields:
      - { label: "Template Key", name: "templateKey", widget: "hidden", default: "news"}
      - { label: 'Type', name: 'type', widget: 'select', options: ['news', 'media'], required: true}  
      - { label: "Is Draft?", name: "draft", widget: "string", default: "false"}
      - { name: title, label: Title }
      - { label: 'Summary', name: 'description', widget: 'string', required: false, hint: 'Text for homepage and previews'}
      - { name: body, label: Body, widget: markdown }
      - {label: Image, name: image, widget: image, required: false}
      - label: 'Related Books'
        name: 'related_books'
        widget: 'list'
        summary: '{{fields.book_id}}'
        fields:
          - {label: 'Book ID', name: 'book_id', widget: string}
          - {label: 'Book Title', name: 'book_title', widget: string, hint: 'Title to be shown next to book link and generated cover.'} 
      - label: "date"
        name: "date"
        widget: "datetime"
        default: ""
        date_format: "YYYY-MM-DD"
        time_format: "false" 
        format: "YYYY-MM-DD"
        required: true
  - name: 'pages'
    identifier_field: '{{title}}'
    label: 'Pages'
    folder: 'content/pages'
    preview_path: '{{title}}/index'
    create: true
    slug: 'index'
    media_folder: ''
    public_folder: ''
    path: '{{title}}/index'
    fields:
      - {label: "Template Key", name: "templateKey", widget: "hidden", default: "page"}
      - { name: path, label: Path, required: false, }
      - { name: title, label: Title }
      - { name: body, label: Body, widget: markdown }
      - { label: 'Internal Tag', name: 'int_tag', widget: 'select', options: ['authors'], required: false}  

  - name: 'exhibits'
    label: 'Exhibits'
    identifier_field: '{{title}}'
    folder: 'content/exhibits'
    preview_path: '{{title}}/index'
    create: true
    slug: 'index'
    media_folder: ''
    public_folder: ''
    path: '{{title}}/index'      
    fields:
      - {label: "Template Key", name: "templateKey", widget: "hidden", default: "exhibit"}
      - { name: title, label: Title }
      - {label: "Featured", name: "featured", widget: "boolean", default: false, hint: "Will this be featured on Homepage? Note: Only 1 can."}
      - { label: Exhibit Logo, name: exhibit_logo, widget: image}
      - { name: body, label: Body, widget: markdown }
      - label: "Related Series"
        name: "related_series"
        widget: "relation"
        collection: "series_info"
        search_fields: ['title']
        value_field: "{{title}}"
        multiple: true
      - label: "Related Staff"
        name: "related_staff"
        widget: "relation"
        collection: "bios"
        search_fields: ['title']
        value_field: "{{title}}"
        multiple: true
      - label: 'Exhibit Books'
        name: 'exhibit_books'
        widget: 'list'
        summary: '{{fields.book_id}}'
        required: false
        fields:
          - {label: 'Sort Label', name: 'sort_id', widget: string, hint: ''}
          - {label: 'Book ID', name: 'book_id', widget: string}
          - {label: 'Book Title', name: 'book_title', widget: string, hint: 'Title to be shown next to book link and generated cover.'} 
      - label: Relation
        name: relation
        widget: relation
        collection: files
        value_field: "{{book.BookID}}"
        search_fields: ['book.Title'] 
        display_fields: ['book.Title']
        file: books
  - name: 'bios'
    label: 'Staff Bio'
    identifier_field: '{{title}}'
    folder: 'content/bios'
    preview_path: '{{title}}/index'
    create: true
    slug: 'index'
    media_folder: ''
    public_folder: ''
    path: '{{title}}/index'      
    fields:
      - {label: "Template Key", name: "templateKey", widget: "hidden", default: "bio"}
      - { name: title, label: Title }
      - { label: Profile Photo, name: profile_photo, widget: image}
      - { label: 'Name Slug', name: 'name_slug', widget: 'string', required: true}
      - { label: 'Job Title', name: 'job_title', widget: 'string', required: true}
      - { label: 'Department', name: 'department', widget: 'select', options: ['OPS', 'ACQ','EDP', 'MKG', 'PUB', 'ROT'], multiple: true, required: true}  
      - { name: body, label: bio, widget: markdown }
      - { label: 'Email', name: 'email', widget: 'string', required: true}
      - { label: 'Phone', name: 'phone', widget: 'string', required: true, hint: "Format (XXX) XXX-XXXX"}
      - label: "Related Series"
        name: "related_series"
        widget: "relation"
        collection: "series_info"
        search_fields: ['title']
        value_field: "{{title}}"
        multiple: true
        required: false
  - name: 'rotundas'
    label: 'Rotunda Items'
    identifier_field: '{{rid}}'
    folder: 'content/rotunda'
    preview_path: '{{title}}/index'
    create: true
    slug: 'index'
    media_folder: ''
    public_folder: ''
    path: '{{rid}}/index'      
    fields:
      - {label: "Template Key", name: "templateKey", widget: "hidden", default: "rotunda"}
      - { name: title, label: Title }
      - { name: rid, label: Rotunda Internal ID}
      - { name: body, label: Marketing Summary, widget: markdown }
      - label: 'Related Books'
        name: 'rotunda_books'
        widget: 'list'
        summary: '{{fields.book_id}}'
        optional: true
        fields:
          - {label: 'Book ID', name: 'book_id', widget: string}
          - {label: 'Book Title', name: 'book_title', widget: string, hint: 'Title to be shown next to book link and generated cover.'} 
          
  
  - name: 'promo'
    label: 'Promotion'
    identifier_field: '{{title}}'
    folder: 'content/promos'
    preview_path: '{{title}}/index'
    create: true
    slug: 'index'
    media_folder: ''
    public_folder: ''
    path: '{{title}}/index'      
    fields:
      - {label: "Template Key", name: "templateKey", widget: "hidden", default: "promo"}
      - { name: title, label: Title }
      - { name: body, label: Body, widget: markdown }
      - { label: 'Summary', name: 'description', widget: 'string', required: false, hint: 'Text for homepage and previews'}
      - label: 'Promotion Books'
        name: 'promo_books'
        widget: 'list'
        summary: '{{fields.book_id}}'
        fields:
          - {label: 'Book ID', name: 'book_id', widget: string}
          - {label: 'Book Title', name: 'book_title', widget: string, hint: 'Title to be shown next to book link and generated cover.'} 

  - name: 'series_info'
    identifier_field: '{{title}}'
    label: 'Series Info'
    folder: 'content/seriesinfo'
    preview_path: '{{title}}/index'
    create: true
    slug: 'index'
    media_folder: ''
    public_folder: ''
    path: '{{title}}/index'
    fields:
      - {label: "Template Key", name: "templateKey", widget: "hidden", default: "series"}
      - { name: title, label: Title }
      - { label: 'Series Status', name: 'status', widget: 'select', options: ['active', 'completed'], required: true} 
      - { label: 'Series Type', name: 'seriestype', widget: 'select', options: ['Academic Book Series', 'Documentary Editions','Lecture Series', 'Distributed Series'], required: true}  
      - { label: 'Series Editors', name: 'editors', widget: 'string', required: false }
      - { label: 'UVaP Editor', name: 'uvaeditors', widget: 'string', required: false }
      - { name: body, label: Body, widget: markdown , required: false}
      - { label: 'Series Slug', name: 'slug', widget: 'string', required: false, hint: 'In case need to match URL-friendly Series name' }
      
  - name: "featured"
    label: "Featured Content"
    files:
      - file: "content/featured/primary/index.md"
        label: "Homepage Primary"
        name: "primary"
        media_folder: ''
        public_folder: ''
        media_folder_relative: true
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "homepage-primary"}
          - { label: "Title", name: "title", widget: "string", hint: "This field needs to exist to show on the list of posts"}
          - { label: 'related book id', name: 'relbook', widget: 'string', required: false, hint: "For multiple, separate book ids by commas with no spaces. Eg. 1234,4567"}
          - { label: Primary Image, name: primary_image, widget: image, required: false}
          - { name: body1, label: Headline, widget: markdown, hint: "Optional: Larger Text" , required: false}
          - { name: body2, label: Body, widget: markdown, hint: "Optional: Smaller/Secondary text" , required: false}
      - file: "content/featured/secondary/index.md"
        label: "Homepage Secondary"
        name: "secondary"
        media_folder: ''
        public_folder: ''
        media_folder_relative: true
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "homepage-secondary"}
          - { label: "Title", name: "title", widget: "string", hint: "This field needs to exist to show on the list of posts"}
          - { label: 'related book id', name: 'relbook', widget: 'string', required: false, hint: "For multiple, separate book ids by commas with no spaces. Eg. 1234,4567"}
          - { label: Image, name: image, widget: image, required: false}
          - { name: body1, label: Headline, widget: markdown, hint: "Optional: Larger Text" , required: false}
          - { name: body2, label: Body, widget: markdown, hint: "Optional: Smaller/Secondary text", required: false }
      - file: "content/featured/tertiary/index.md"
        label: "Homepage Tertiary"
        name: "tertiary"
        media_folder: ''
        public_folder: ''
        media_folder_relative: true
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "homepage-tertiary"}
          - { label: "Title", name: "title", widget: "string", hint: "This field needs to exist to show on the list of posts"}
          - { label: 'related book id', name: 'relbook', widget: 'string', required: false, hint: "For multiple, separate book ids by commas with no spaces. Eg. 1234,4567"}
          - { label: Image, name: image, widget: image, required: false}
          - { name: body1, label: Headline, widget: markdown, hint: "Optional: Larger Text" , required: false}
          - { name: body2, label: Body, widget: markdown, hint: "Optional: Smaller/Secondary text" , required: false}
      - file: "content/featured/rotunda/index.md"
        label: "Homepage Rotunda"
        name: "rotunda"
        media_folder: ''
        public_folder: ''
        media_folder_relative: true
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "homepage-rotunda"}
          - { label: "Title", name: "title", widget: "string", hint: "This field needs to exist to show on the list of posts"}
          - { label: "Link", name: "link", widget: 'string', required: false, hint: 'for external links, use full URL'}
          - { name: rid, label: Rotunda Internal ID}
          - { label: 'related book id', name: 'relbook', widget: 'string', required: false, hint: "For multiple, separate book ids by commas with no spaces. Eg. 1234,4567"}
          - { label: Image, name: image, widget: image, required: false}
          - { name: body1, label: Headline, widget: markdown, hint: "Optional: Larger Text", required: false }
          - { name: body2, label: Body, widget: markdown, hint: "Optional: Smaller/Secondary text", required: false }
      - file: "content/featured/promotion/index.md"
        label: "Homepage Promotion"
        name: "homepage-promotion"
        media_folder: ''
        public_folder: ''
        media_folder_relative: true
        fields:
          - { label: "Template Key", name: "templateKey", widget: "hidden", default: "homepage-promotion"}
          - { label: "Title", name: "title", widget: "string", hint: "This field needs to exist to show on the list of posts"}
          - { label: 'related book id', name: 'relbook', widget: 'string', required: false, hint: "For multiple, separate book ids by commas with no spaces. Eg. 1234,4567"}
          - { label: Image, name: image, widget: image, required: false, hint: "Use BookID if cover, use this if custom image"}
          - { name: body, label: Body, widget: markdown }
          - { name: body1, label: Headline, widget: markdown, hint: "Optional: Larger Text" , required: false}
          - { name: body2, label: Body, widget: markdown, hint: "Optional: Smaller/Secondary text", required: false}
  -   name: files
      label: Files
      label_singular: 'File'
      files:
      - label: 'Books'
        name: 'books'
        file: 'content/booklist.json'
        extension: "json"
        fields:
          - label: 'Book'
            name: 'book'
            widget: 'list'
            fields:
              - {label: "BookID", name: "BookID", widget: "string"}
              - {label: "Title", name: "Title", widget: "string"}
           
  
  